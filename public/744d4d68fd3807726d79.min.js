webpackJsonp([1],[,,,,,,,,,,,,,,function(t,e,a){(function(e,r){var s=a(15),n={},i={};i.del=e.prop(""),i.project=e.prop(!1),i.array=[],n.controller=function(){return console.log("project"),s.isLoggedIn(function(t){t||e.route("/connect")}),i.ErrorMsg=e.prop(""),i.getproject=function(t){var a=e.prop();e.request({method:"GET",url:e.urls("company","website"),config:a,background:!0}).then(function(t){}),a().onreadystatechange=function(){var e=JSON.parse(a().responseText);console.log(e),a().readyState==XMLHttpRequest.DONE&&(console.log(" transport().status",a().status),200==a().status?(console.log("data",e.data.projects),e.data.projects.length>0&&i.project(!0),t(e.data.projects)):(i.project(!1),t(!1)))}},i.getproject(function(t){console.log("web",t),i.pro=t,e.redraw(!0)}),i.embed="",i.code=function(t){var a=e.prop();e.request({method:"GET",url:e.urls("website",t,"embedcode"),config:a,background:!0}).then(function(t){}),a().onreadystatechange=function(){var t=JSON.parse(a().responseText);a().readyState==XMLHttpRequest.DONE&&(console.log(" transport().status",a().status),200==a().status?(console.log("data",t.data),console.log("res.data",typeof t.data),i.embed=t.data,r("#embed").modal("show"),e.redraw(!0)):(i.ErrorMsg=e.prop(t.userMessage),console.log("ErrorMsgErrorrrrrr"),console.log("ctrl.ErrorMsg",i.ErrorMsg()),e.redraw(!0)))}}.bind(i),i.list=[],i.webpage=function(t){console.log("hi"),console.log("id",t);var a=e.prop();e.request({method:"GET",url:e.urls("websites",t,"webpages"),config:a,background:!0}).then(function(t){}),a().onreadystatechange=function(){var t=JSON.parse(a().responseText);a().readyState==XMLHttpRequest.DONE&&(console.log(" transport().status",a().status),200==a().status?(console.log("data",t.data),i.list=t.data,console.log("in ctrl . list",i.list),e.redraw(!0)):(console.log("res",t),i.ErrorMsg=e.prop(t.userMessage),console.log("ErrorMsgErrorrrrrr"),console.log("ctrl.ErrorMsg",i.ErrorMsg()),e.redraw(!0)))}}.bind(i),i.popup=function(t){console.log("ele",t),r(t).popup({on:"click"}),r(".example input").popup({on:"focus"})},i.reset=function(){i.list=[],e.redraw(!0)},i.resetdraw=function(){i.draw=!1,e.redraw(!0)},i.heatmap=function(t){var a=e.prop();e.request({method:"GET",url:e.urls("webpages",t,"heatmap"),config:a,background:!0}).then(function(t){}),a().onreadystatechange=function(){var t=JSON.parse(a().responseText);console.log("heatmap",t),a().readyState==XMLHttpRequest.DONE&&(console.log("heatmap transport().status",a().status),200==a().status?(console.log("heatmap data",t.data.fileName),i.draw=t.data.fileName,e.redraw(!0)):(console.log("heatmap error res",t),i.ErrorMsg=e.prop(t.userMessage),e.redraw(!0)))}}.bind(i),i.graph=function(t){console.log("inside graph"),console.log("web_id",t),e.route("/showcharts?websiteId="+t)}.bind(i),i},n.load=function(){return{tag:"div",attrs:{"class":"ui container"},children:[a(16),{tag:"div",attrs:{"class":"ui divider"}},{tag:"br",attrs:{}},{tag:"div",attrs:{"class":"ui grid"},children:[{tag:"div",attrs:{"class":"four wide column"},children:[a(17)]},{tag:"div",attrs:{"class":"twelve wide column"},children:[{tag:"div",attrs:{"class":"ui column grid"},children:[{tag:"div",attrs:{"class":"column"},children:[{tag:"div",attrs:{"class":"ui raised segment"},children:[{tag:"h1",attrs:{},children:["Your Projects"]},function(){return i.project()?{tag:"div",attrs:{"class":"ui large aligned divided list"},children:[i.pro.map(function(t){return{tag:"div",attrs:{"class":"ui blue segment"},children:[{tag:"div",attrs:{"class":"column"},children:[{tag:"div",attrs:{"class":"item"},children:[{tag:"div",attrs:{config:i.popup,"class":"positive ui button"},children:[t.website]},{tag:"div",attrs:{"class":"ui flowing popup top left transition hidden"},children:[{tag:"div",attrs:{"class":"ui three column divided center aligned grid"},children:[{tag:"div",attrs:{"class":"column"},children:[{tag:"h4",attrs:{"class":"ui header"},children:["Graphs"]},{tag:"button",attrs:{"class":"ui button"},children:[{tag:"a",attrs:{"class":"header",onclick:i.graph.bind(i,t.websiteId)},children:[{tag:"h3",attrs:{},children:["Show Graphs"]}]}]}]},{tag:"div",attrs:{"class":"column"},children:[{tag:"h4",attrs:{"class":"ui header"},children:["Embed code"]},{tag:"button",attrs:{"class":"ui button"},children:[{tag:"a",attrs:{"class":"header",onclick:i.code.bind(i,t.websiteId)},children:[{tag:"h3",attrs:{},children:["Get Embed code"]}]}]}]},{tag:"div",attrs:{"class":"column"},children:[{tag:"h4",attrs:{"class":"ui header"},children:["Heatmaps"]},{tag:"button",attrs:{"class":"ui button"},children:[{tag:"a",attrs:{"class":"header",onclick:i.webpage.bind(i,t.websiteId)},children:["Show webpages"]}]}]}]}]}]}]}]}})]}:(console.log("not there"),{tag:"div",attrs:{"class":"ui compact message"},children:[{tag:"p",attrs:{},children:["No project found Add your projects now",{tag:"a",attrs:{config:e.route,href:"/website"},children:["Add project"]}]}]})}(),{tag:"div",attrs:{"class":"ui large modal",id:"embed"},children:[{tag:"div",attrs:{"class":"ui middle aligned center aligned grid"},children:[{tag:"div",attrs:{"class":"ui column grid"},children:[{tag:"div",attrs:{"class":"column"},children:[{tag:"div",attrs:{"class":"ui raised segment"},children:[function(){return{tag:"div",attrs:{"class":"ui compact message"},children:[{tag:"pre",attrs:{},children:[{tag:"code",attrs:{"class":"code xml"},children:[i.embed]}]}]}}()]}]}]}]}]},function(){return console.log("ctrl.ErrorMsg()",i.ErrorMsg()),i.ErrorMsg()?{tag:"div",attrs:{"class":"ui warning message"},children:[{tag:"i",attrs:{"class":"close icon"}},{tag:"div",attrs:{"class":"header"},children:[i.ErrorMsg()]}]}:void 0}()]}]}]}]}]}]}},n.list=function(){return{tag:"div",attrs:{"class":"ui container"},children:[a(16),{tag:"div",attrs:{"class":"ui divider"}},{tag:"br",attrs:{}},{tag:"div",attrs:{"class":"ui grid"},children:[{tag:"div",attrs:{"class":"four wide column"},children:[a(17)]},{tag:"div",attrs:{"class":"twelve wide column"},children:[{tag:"div",attrs:{"class":"ui column grid"},children:[{tag:"div",attrs:{"class":"column"},children:[{tag:"div",attrs:{"class":"ui raised segment"},children:[function(){return i.draw?{tag:"div",attrs:{"class":"header"},children:[{tag:"button",attrs:{"class":"mini ui button",onclick:i.resetdraw},children:["back"]},{tag:"h1",attrs:{},children:["heatmap : "]},{tag:"img",attrs:{"class":"ui fluid image",src:i.draw}}]}:{tag:"div",attrs:{"class":"header"},children:[{tag:"button",attrs:{"class":"mini ui button",onclick:i.reset},children:["back"]},{tag:"h1",attrs:{},children:["webpages : "]},i.list.map(function(t){return{tag:"div",attrs:{"class":"ui animated green basic fade button",onclick:i.heatmap.bind(i,t.pageId),tabindex:"0"},children:[{tag:"div",attrs:{"class":"visible content"},children:[t.address]},{tag:"div",attrs:{"class":"hidden content"},children:["Show Heatmap"]}]}})]}}()]}]}]}]}]}]}},n.view=function(){return console.log("ctrl.list",i.list),i.list[0]?this.list():this.load()},t.exports=n}).call(e,a(1),a(3))},function(t,e,a){(function(e){var a={};a.UserData=e.prop(!1),a.controller=function(){},a.setSession=function(t){console.log("setSession",t),e.cookie.set("session",t)},a.clearSession=function(){e.cookie.remove("session")},a.PingServer=function(t,r){if(!this.UserData()&&t){var s=e.prop();e.request({method:"GET",url:e.urls("ping"),config:s,background:!0}).then(a.UserData),s().onreadystatechange=function(){s().readyState==XMLHttpRequest.DONE&&(401==s().status||403==s().status?(a.clearSession(),e.route("/connect"),console.log("ping",!1),s().abort(),r(!1)):(a.UserData=e.prop(JSON.parse(s().responseText)),a.UserData().logged_in&&(this.session_exists=e.prop(!0)),e.redraw(!0),console.log("ping",!0),s().abort(),r(!0)))}}else console.log("ping else",!1),r(!1)},a.session_exists=e.prop(!1),a.gotSession=function(){var t=e.cookie.get("session");return t?(this.session_exists()||(e.removeGlobalHeader("Authorization"),e.addGlobalHeader("Authorization","Bearer "+t)),e.cookie.get("session")):!1},a.isLoggedIn=e.prop(),a.isLoggedIn=function(t){var e=a.gotSession();e?a.PingServer(e,function(e){console.log("isLoggedIn",a.UserData()?a.UserData():e),t(a.UserData()?a.UserData():e)}):(console.log("isLoggedIn",!1),t(!1))},a.isverified=e.prop(),a.isverified=function(t){a.gotSession();e.request({method:"GET",url:e.urls("ping")}).then(function(e){t(e.data.user.email_verified)})},a.iscompany=e.prop(),a.iscompany=function(t){a.gotSession();e.request({method:"GET",url:e.urls("company")}).then(function(e){t(!0)})},t.exports=a}).call(e,a(1))},function(t,e,a){(function(e,r){var s=a(17),n={};n.controller=function(){e("").modal("hide")},n.config=function(t){return function(t,e){}};var i;n.sidebarIcon=function(t,e){i=new Slideout({panel:t,menu:s.Elements.sidebar,padding:120,tolerance:20}),t.onclick=function(t){t.preventDefault(),i.toggle()}},n.view=function(){return{tag:"div",attrs:{},children:[{tag:"br",attrs:{}},{tag:"div",attrs:{"class":"ui secondary menu"},children:[{tag:"div",attrs:{"class":"ui compact menu"},children:[{tag:"a",attrs:{"class":"item"},children:[{tag:"i",attrs:{"class":"icon announcement"}}," Milestones"]},{tag:"a",attrs:{"class":"item",href:"/",config:r.route},children:[{tag:"i",attrs:{"class":"icon mail"}}," Conversation",{tag:"div",attrs:{"class":"floating ui red label"},children:["22"]}]}]},{tag:"div",attrs:{"class":"right menu"},children:[{tag:"a",attrs:{"class":"item",href:"/settings",config:r.route},children:["Settings"]},{tag:"a",attrs:{"class":"item",onclick:e("").modal("hide"),href:"/logout",config:r.route},children:["Logout"]}]}]}]}},t.exports=n}).call(e,a(3),a(1))},function(t,e,a){(function(e,r){var s={};a(18);s.controller=function(){e("").modal("hide")},s.view=function(){return{tag:"div",attrs:{"class":"ui vertical menu"},children:[{tag:"a",attrs:{"class":"teal active item",config:r.route,href:"/website"},children:["Add Website",{tag:"div",attrs:{"class":"ui teal label"},children:["+"]}]},{tag:"a",attrs:{"class":"item",config:r.route,href:"/listwebsites"},children:["  List Websites",{tag:"div",attrs:{"class":"ui label"}}]},{tag:"a",attrs:{"class":"item",config:r.route,href:""},children:["Graphs",{tag:"div",attrs:{"class":"ui label"},children:["1"]}]},{tag:"div",attrs:{"class":"item"},children:[{tag:"div",attrs:{"class":"ui transparent icon input"},children:[{tag:"input",attrs:{type:"text",placeholder:"Search..."}},{tag:"i",attrs:{"class":"search icon"}}]}]}]}},t.exports=s}).call(e,a(3),a(1))},function(t,e,a){(function(e,r){var s={};a(4),s.SubRoutes=function(t){console.log("set element"),s.container=e.prop(r(t))},s.header=e.prop("Welcome"),s.controller=function(){var t={};return t.DashboardElement=e.prop(),t.viewConfig=function(a){var s=r(a);t.DashboardElement=e.prop(s)},t.fadeOut=function(a){var s=r(a);s.transition({animation:"fade out",onComplete:function(){e.redraw(!0),t.DashboardElement().transition("fade in")}})},t},s.Load=function(t){return{tag:"div",attrs:{"class":"ui container",config:t.viewConfig},children:[a(16),{tag:"div",attrs:{"class":"ui divider"}},{tag:"br",attrs:{}},{tag:"div",attrs:{"class":"ui grid"},children:[{tag:"div",attrs:{"class":"four wide column"},children:[a(17)]},{tag:"div",attrs:{"class":"twelve wide column",config:s.SubRoutes},children:[{tag:"div",attrs:{"class":"ui column grid"},children:[{tag:"div",attrs:{"class":"column"},children:[{tag:"div",attrs:{"class":"ui raised segment"},children:[{tag:"h2",attrs:{},children:[this.header()]},{tag:"p",attrs:{},children:["Welcome to graphed.io"]}]}]}]}]}]}]}},s.view=function(t){return this.Load(t)},t.exports=s}).call(e,a(1),a(3))}]);